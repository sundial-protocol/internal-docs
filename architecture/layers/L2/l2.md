# Sundial Layer 2 (L2) Overview

Sundial's L2 is built on top of the Midgard L2 Framework, which provides a robust set of tools and libraries for building Layer 2 protocols on Cardano. This document provides an overview of the components and services that make up the L2 architecture, including the key departures we make from the Midgard L2 Framework to suit our needs.

## Key Components of L2
- Cardano L1: The foundational layer for Sundial, providing security, scalability, and sustainability.
  - **State Queue**: This is the primary data structure used to manage the state of the L2 protocol. It allows for efficient processing of transactions and state updates.
  - **Settlement Queue**: This queue is used to manage the settlement of transactions, ensuring that they are processed in a timely manner and that the state of the protocol remains consistent.
  - **Scheduler**: The scheduler is responsible for managing the execution of transactions and state updates, ensuring that they are processed in the correct order and that the protocol remains responsive to user inputs.
  - **Operator Registry**: This registry maintains a list of active operators on the network, allowing for efficient management of operator performance and accountability.
  - **Deposit Contract**: This contract manages the deposits made by users, ensuring that they are securely held and can be accessed when needed.
  - **Fraud Proving Contracts**: These contracts allow for the detection and resolution of fraudulent activities on the L2, ensuring that the protocol remains secure and trustworthy.
- **Data Archive**: A decentralized, data-duplicated service that stores historical data for the protocol, allowing users to access past transactions and states.
- **Data Availability (DA) Layer**: This layer ensures that the data needed for Sundial to operate is securely stored and accessible. It is likely to be implemented on Cardano, leveraging its robust infrastructure.


## Key Departures

### VRF-Based Scheduling
Sundial uses a VRF-based scheduling mechanism to determine which operators will produce blocks in each round. This allows for a more dynamic and flexible approach to block production, as operators are selected based on their VRF output rather than a fixed round-robin schedule. This helps to ensure that block producers are chosen in a fair manner that doesn't favor any particular operator, while still allowing for efficient block production.

### Higher Deposit Requirements
Sundial requires a higher deposit from operators compared to the Midgard L2 Framework. This is to ensure that operators have a significant stake in the network, aligning their interests with the protocol's rules and incentivizing them to act in the best interests of the network. The higher deposit also helps to ensure that operators are financially capable of maintaining a higher performance node, reducing turnover and improving network stability.